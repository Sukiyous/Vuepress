# Gitee 访问令牌设置指南

为了让自动部署工作流能够更新 Gitee Pages，您需要创建并配置 Gitee 访问令牌。

## 创建 Gitee 访问令牌

1. 登录您的 Gitee 账号
2. 点击右上角头像，选择"设置"
3. 在左侧菜单栏中选择"私人令牌"
4. 点击"生成新令牌"
5. 填写令牌描述（例如："VuePress 自动部署"）
6. 勾选以下权限：
   - `projects`: 项目/仓库读写权限
   - `pull_requests`: Pull Request 读写权限
   - `issues`: Issues 读写权限
   - `notes`: 评论读写权限
   - `gists`: 代码片段读写权限
7. 点击"提交"按钮
8. 页面上会显示生成的访问令牌，请立即复制并保存，因为页面刷新后就无法再次查看

## 配置环境变量

1. 访问您的 Gitee 仓库
2. 点击"管理" -> "仓库设置" -> "Gitee Go" -> "环境变量"
3. 添加以下环境变量：
   - 名称：`GITEE_TOKEN`
   - 值：您刚才生成的访问令牌
   - 加密：勾选

## 更新工作流配置

在之前创建的 `.workflow/gitee-pages.yml` 工作流文件中，我们已经添加了使用此令牌自动更新 Gitee Pages 的步骤。

这样，每次工作流运行后，它会自动触发 Gitee Pages 的更新，而不需要您手动点击"更新"按钮。

## 测试部署

设置完成后，您可以：

1. 推送代码到主分支，触发自动部署
2. 或者在 Gitee Go 工作流列表中，手动触发"部署 VuePress 到 Gitee Pages"工作流

如果一切配置正确，VuePress 网站应该会自动构建并部署到 Gitee Pages。

## 故障排除

如果自动更新 Gitee Pages 失败，请检查：

1. 访问令牌是否拥有足够的权限
2. 令牌是否已经过期（Gitee 的访问令牌有效期为 90 天）
3. 环境变量是否正确设置

如果以上都没问题，您可以尝试通过 Gitee Pages 服务页面手动点击"更新"按钮来更新网站。 